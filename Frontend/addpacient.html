<!DOCTYPE html>
<html>

<head>
    <!-- Site made with Mobirise Website Builder v5.9.8, https://mobirise.com -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="Mobirise v5.9.8, mobirise.com">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <link rel="shortcut icon" href="assets/images/mbr-96x96.jpg" type="image/x-icon">
    <meta name="description" content="">


    <title>AddPacient</title>
    <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="assets/animatecss/animate.css">
    <link rel="stylesheet" href="assets/dropdown/css/style.css">
    <link rel="stylesheet" href="assets/socicon/css/styles.css">
    <link rel="stylesheet" href="assets/theme/css/style.css">
    <link rel="preload"
        href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap">
    </noscript>
    <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css">
    <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">




</head>

<body>

    <section data-bs-version="5.1" class="menu menu2 cid-tJS6tZXiPa" once="menu" id="menu02-1r">


        <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
            <div class="container">
                <div class="navbar-brand">
                    <span class="navbar-logo">
                        <a href="index.html#header05-1">
                            <img src="assets/images/mbr-96x96.jpg" alt="Mobirise Website Builder" style="height: 3rem;">
                        </a>
                    </span>
                    <span class="navbar-caption-wrap"><a class="navbar-caption text-black text-primary display-4"
                            href="index.html#header05-1">AlzBuddy</a></span>
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse"
                    data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true">
                        <li class="nav-item">
                            <a class="nav-link link text-black text-primary display-4"
                                href="index.html#header01-7">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link link text-black text-primary display-4" href="index.html#features04-w"
                                aria-expanded="false">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link link text-black text-primary display-4"
                                href="index.html#contacts02-9">Contacts</a>
                        </li>
                    </ul>

                    <div class="navbar-buttons mbr-section-btn"><a class="btn btn-primary display-4"
                            href="dashboard.html">Home<br></a></div>
                </div>
            </div>
        </nav>
    </section>

    <section data-bs-version="5.1" class="form5 cid-tXWxUBWlnZ" id="form02-1t">


        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 content-head">
                    <div class="mbr-section-head mb-5">
                        <h3 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
                            <strong>Add a person in care</strong>
                        </h3>

                    </div>
                </div>
            </div>
            <div class="row justify-content-center mt-4">
                <div class="col-lg-8 mx-auto mbr-form" data-form-type="formoid">
                        <div class="row">
                            <div hidden="hidden" data-form-alert="" class="alert alert-success col-12">Thanks for
                                filling out the form!</div>
                            <div hidden="hidden" data-form-alert-danger="" class="alert alert-danger col-12">
                                Oops...! some problem!
                            </div>
                        </div>
                        <div class="dragArea row">
                            <div class="col-md col-sm-12 form-group mb-3" data-for="name">
                                <input type="text" name="name" placeholder="Name" data-form-field="name"
                                    class="form-control" value="" id="name-form02-1t">
                            </div>
                            <div class="col-md col-sm-12 form-group mb-3" data-for="address">
                                <input type="address" name="address" placeholder="Home Address"
                                    data-form-field="address" class="form-control" value="" id="address-form02-1t">
                            </div>
                            <div class="col-12 form-group mb-3" data-for="phone">
                                <input type="tel" name="phone" placeholder="Phone" data-form-field="phone"
                                    class="form-control" value="" id="phone-form02-1t">
                            </div>
                            <div class="col-12 form-group mb-3" data-for="bloodType">
                                <input type="text" name="bloodType" placeholder="Blood Type" data-form-field="bloodType"
                                    class="form-control" value="" id="bloodType-form02-1t">
                            </div>
                            <div class="col-12 form-group mb-3" data-for="medicine">
                                <input type="text" name="medicine" placeholder="Medicine" data-form-field="medicine"
                                    class="form-control" value="" id="medicine-form02-1t">
                            </div>

                            <!-- Dosage input field (Initially hidden) -->
                            <div class="col-12 form-group mb-3" data-for="dosage">
                                <input type="text" name="dosage" placeholder="Dosage" data-form-field="dosage"
                                    class="form-control" value="" id="dosage-form02-1t" style="display: none;">
                            </div>

                            <!-- Checkbox for Morning and associated dosage field -->
                            <div class="col-12 form-group mb-3" id="morning-checkbox-group" style="display: none;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="morning"
                                        id="morning-checkbox">
                                    <label class="form-check-label" for="morning-checkbox">Morning</label>
                                    <input type="text" name="morningDosage" placeholder="Dosage"
                                        data-form-field="morningDosage" class="form-check-label" value=""
                                        id="morning-dosage-form02-1t">
                                </div>
                            </div>

                            <!-- Checkbox for Noon and associated dosage field -->
                            <div class="col-12 form-group mb-3" id="noon-checkbox-group" style="display: none;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="noon" id="noon-checkbox">
                                    <label class="form-check-label" for="noon-checkbox">Noon</label>
                                    <input type="text" name="noonDosage" placeholder="Dosage"
                                        data-form-field="noonDosage" class="form-check-label" value=""
                                        id="noon-dosage-form02-1t">
                                </div>
                            </div>

                            <!-- Checkbox for Evening and associated dosage field -->
                            <div class="col-12 form-group mb-3" id="evening-checkbox-group" style="display: none;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="evening"
                                        id="evening-checkbox">
                                    <label class="form-check-label" for="evening-checkbox">Evening</label>
                                    <input type="text" name="eveningDosage" placeholder="Dosage"
                                        data-form-field="eveningDosage" class="form-check-label" value=""
                                        id="evening-dosage-form02-1t">
                                </div>
                            </div>

                            <div class="col-12 form-group mb-3" id="medicine-buttons" style="display: none;">
                                <button type="button" class="btn btn-success" id="save-button">Save</button>
                                <button type="button" class="btn btn-secondary" id="clear-button">Clear</button>
                            </div>

                            <div class="col-12 form-group mb-3" data-for="doctor">
                                <input type="text" name="doctor" placeholder="Doctor name" data-form-field="doctor"
                                    class="form-control" value="" id="doctorName">
                            </div>

                            <!-- Clinic name input field (Initially hidden) -->
                            <input type="text" name="clinicName" placeholder="Clinic Name" data-form-field="clinicName"
                                class="form-check-label" id="clinicName-form02-1t" style="display:none">


                            <!-- Phone number input field (Initially hidden) -->
                            <input type="text" name="doctorPhone" placeholder="Doctor phone number"
                                data-form-field="doctorPhone" class="form-check-label" value=""
                                id="doctorPhone-form02-1t" style="display:none">


                            <!-- Buttons for doctor details (Initially hidden) -->
                            <div class="col-12 form-group mb-3" id="doctor-buttons" style="display: none;">
                                <button type="button" class="btn btn-success" id="save-doctor-button">Save</button>
                                <button type="button" class="btn btn-secondary" id="clear-doctor-button">Clear</button>
                            </div>

                        </div>

                        <script>
                           document.addEventListener("DOMContentLoaded", () => {
    const medicineField = document.getElementById('medicine-form02-1t');
    const dosageField = document.getElementById('dosage-form02-1t');
    const morningCheckboxGroup = document.getElementById('morning-checkbox-group');
    const morningCheckbox = document.getElementById('morning-checkbox');
    const morningDosageField = document.getElementById('morning-dosage-form02-1t');
    const noonCheckboxGroup = document.getElementById('noon-checkbox-group');
    const noonCheckbox = document.getElementById('noon-checkbox');
    const noonDosageField = document.getElementById('noon-dosage-form02-1t');
    const eveningCheckboxGroup = document.getElementById('evening-checkbox-group');
    const eveningCheckbox = document.getElementById('evening-checkbox');
    const eveningDosageField = document.getElementById('evening-dosage-form02-1t');
    const medicineButtons = document.getElementById('medicine-buttons');
    const saveButton = document.getElementById('save-button');
    const clearButton = document.getElementById('clear-button');

    morningDosageField.value=0;
    noonDosageField.value=0;
    eveningDosageField.value=0;

    const doctorField = document.getElementById('doctorName');
    const clinicNameField = document.getElementById('clinicName-form02-1t');
    const doctorPhoneField = document.getElementById('doctorPhone-form02-1t');
    const doctorButtons = document.getElementById('doctor-buttons');
    const saveDoctorButton = document.getElementById('save-doctor-button');
    const clearDoctorButton = document.getElementById('clear-doctor-button');


    const name = document.getElementById('name-form02-1t');
    const address = document.getElementById('address-form02-1t');
    const phone = document.getElementById('phone-form02-1t');
    const bloodType = document.getElementById('bloodType-form02-1t');
    const saveButtonPacient = document.getElementById('save-pacient-button')

    let medicineValue = '';
    let dosageValue = '';
    let morningDosageValue= 0;
    let noonDosageValue = 0;
    let eveningDosageValue = 0;
    let doctorValue = '';
    let clinicNameValue = '';
    let doctorPhoneValue = '';

    // Function to hide the checkboxes and buttons
    function hideMedicineDetails() {
        morningCheckboxGroup.style.display = 'none';
        noonCheckboxGroup.style.display = 'none';
        eveningCheckboxGroup.style.display = 'none';
        medicineButtons.style.display = 'none';
    }

    // Function to hide the doctor-related fields and buttons
    function hideDoctorDetails() {
        clinicNameField.style.display = 'none';
        doctorPhoneField.style.display = 'none';
        doctorButtons.style.display = 'none';
    }

    // Show the checkboxes when the medicine field is focused
    medicineField.addEventListener('focus', () => {
        morningCheckboxGroup.style.display = 'block';
        noonCheckboxGroup.style.display = 'block';
        eveningCheckboxGroup.style.display = 'block';
        medicineButtons.style.display = 'block';
    });

    // Show the doctor-related fields and buttons when the doctor field is focused
    doctorField.addEventListener('focus', () => {
        clinicNameField.style.display = 'block';
        doctorPhoneField.style.display = 'block';
        doctorButtons.style.display = 'block';
    });

    doctorField.addEventListener('focus', () => {
        hideMedicineDetails(); // Hide medicine details when doctor field is focused
        clinicNameField.style.display = 'block';
        doctorPhoneField.style.display = 'block';
        doctorButtons.style.display = 'block';
    });

    name.addEventListener('focus', () => {
        hideDoctorDetails();
        hideMedicineDetails();
    });

    address.addEventListener('focus', () => {
        hideDoctorDetails();
        hideMedicineDetails();
    });

    bloodType.addEventListener('focus', () => {
        hideDoctorDetails();
        hideMedicineDetails();
    });

    phone.addEventListener('focus', () => {
        hideDoctorDetails();
        hideMedicineDetails();
    });

    saveButton.addEventListener('click', () => {
        medicineValue = medicineField.value.trim();
        morningDosageValue = morningDosageField.value.trim();
        noonDosageValue =noonDosageField.value.trim();
        eveningDosageValue =eveningDosageField.value.trim();
        console.log('Medicine:', medicineValue);
        console.log('Morning Checkbox:', morningCheckbox.checked, 'Morning Dosage:', morningDosageValue);
        console.log('Noon Checkbox:', noonCheckbox.checked, 'Noon Dosage:', noonDosageValue);
        console.log('Evening Checkbox:', eveningCheckbox.checked, 'Evening Dosage:', eveningDosageValue);

        // Clear the fields
        clearFields();
    });

    // Save button click event for doctor details
    saveDoctorButton.addEventListener('click', () => {
        doctorValue = doctorField.value.trim();
        clinicNameValue = clinicNameField.value.trim();
        doctorPhoneValue = doctorPhoneField.value.trim();
        console.log('Doctor:', doctorValue);
        console.log('Clinic Name:', clinicNameValue);
        console.log('Doctor Phone:', doctorPhoneValue);

        // Clear and hide the doctor-related fields and buttons
        clearDoctorFields();
    });

    // Event listener for when the medicine field is focused
    medicineField.addEventListener('focus', () => {
        hideDoctorDetails(); // Hide doctor-related fields when medicine field is focused
        morningCheckboxGroup.style.display = 'block';
        noonCheckboxGroup.style.display = 'block';
        eveningCheckboxGroup.style.display = 'block';
        medicineButtons.style.display = 'block'; // Show medicine details
    });

    // Function to clear all fields and checkboxes for medicine details
    function clearFields() {

        dosageField.value = '';
        morningCheckbox.checked = false;
        morningDosageField.value = 0;
        noonCheckbox.checked = false;
        noonDosageField.value = 0;
        eveningCheckbox.checked = false;
        eveningDosageField.value = 0;
        hideMedicineDetails();
    }

    // Function to clear all doctor-related fields and buttons
    function clearDoctorFields() {

        clinicNameField.value = '';
        doctorPhoneField.value = '';

        // Hide the doctor-related fields and buttons again
        hideDoctorDetails();
    }

    // Save button click event for doctor details
    saveButtonPacient.addEventListener('click', () => {
        const nameValue = name.value.trim();
        const addressValue = address.value.trim();
        const phoneValue = phone.value.trim();
        const bloodTypeValue = bloodType.value.trim();

        const formData = {
            id: 0,
            name: nameValue,
            address: addressValue,
            phoneNumber: phoneValue,
            bloodType: bloodTypeValue,
            medications: [
                {
                id: 0,
                name: medicineValue,
                morning: morningDosageValue,
                noon: noonDosageValue,
                evening: eveningDosageValue
            }
        ],
            description:'Bolnav Alzheimer',
            doctor: {
                id: 0,
                name: doctorValue,
                clinic: clinicNameValue,
                phoneNumber: doctorPhoneValue
            }
        };

        fetch('https://localhost:7008/api/Pacient/AddPacient', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response}`);
                }
                return response.json();
            })
            .then(data => {
                // Handle the response from the C# backend
                console.log('Response from C# backend:', data);

                // Clear the fields
                clear();
            })
            .catch(error => {
                console.error('Error:', error);
    // Log the response text for more details
    error.response.text().then(text => {
        console.error('Response Text:', text);
            });
    });
});
    // Function to clear all doctor-related fields and buttons
    function clear() {
        name.value = '';
        phone.value = '';
        address.value = '';
        bloodType.value = '';
        medicineField.value = '';
        doctorField.value = '';

    }
});
                        </script>


                        <div class="col-lg-12 col-md-12 col-sm-12 align-center mbr-section-btn">
                            <button type="submit" class="btn btn-primary display-7" id="save-pacient-button">Save</button>
                        </div>
                </div>
            </div>
        </div>
        </div>
    </section>

    <section data-bs-version="5.1" class="footer1 programm5 cid-tJS9NNcTLZ" once="footers" id="footer03-1s">
        <div class="container">
            <div class="row">

                <div class="row-links mb-4">
                    <ul class="header-menu">




                        <li class="header-menu-item mbr-fonts-style display-5"><a href="index.html#header01-7"
                                class="text-info">About</a></li>
                        <li class="header-menu-item mbr-fonts-style display-5"><a href="index.html#features04-w"
                                class="text-info">Services</a></li>
                        <li class="header-menu-item mbr-fonts-style display-5"><a href="index.html#contacts02-9"
                                class="text-info">Contacts</a></li>
                        <li class="header-menu-item mbr-fonts-style display-5"><a href="index.html#gallery02-v"
                                class="text-info">Works</a></li>
                    </ul>
                </div>

                <div class="col-12">
                    <div class="social-row">
                        <div class="soc-item">
                            <a href="https://puginarug.com" target="_blank">
                                <span class="mbr-iconfont socicon socicon-facebook display-7"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://puginarug.com" target="_blank">
                                <span class="mbr-iconfont socicon-twitter socicon"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://puginarug.com" target="_blank">
                                <span class="mbr-iconfont socicon-instagram socicon"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://puginarug.com" target="_blank">
                                <span class="mbr-iconfont socicon-tiktok socicon"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://puginarug.com" target="_blank">
                                <span class="mbr-iconfont socicon-youtube socicon"></span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-12 mt-5">
                    <p class="mbr-fonts-style copyright display-7">
                        © Copyright 2023 AlzBuddy - All Rights Reserved
                    </p>
                </div>
            </div>
        </div>
    </section>
   
    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/ytplayer/index.js"></script>
    <script src="assets/dropdown/js/navbar-dropdown.js"></script>
    <script src="assets/theme/js/script.js"></script>
    <script src="assets/formoid/formoid.min.js"></script>


    <input name="animation" type="hidden">
</body>

</html>